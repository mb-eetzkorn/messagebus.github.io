---
layout: api

# ----- API DOCUMENTATION -----
title: Create Webhook
method: POST
path: webhooks

sample: false

optional: [enabled, channelKey]

request:
    - [enabled, bool, "Turns the webhook on or off. Optional, true by default."]
    - [uri, string, "The customer-supplied HTTP endpoint the Webhook Service will POST to."]
    - [eventType, string, "The event to send to this webhook."]
    - [channelKey, guid, "Restrict operation to a single channel. Optional, defaults to the account."]

# do not add response envelope fields, they're automatically included
response:
    - [webhookKey, guid, "Unique-Id for the new webhook."]

status:
    fields: [statusCode, statusMessage]
    values:
        - [201, "Webhook created."]
        - [400, "One or more parameters were invalid."]
        - [403, "Unauthorized; insufficient permission."]
# -----------------------------
---

<!--
    Summary/Synopsis of the API. This will be inserted below the title block and the request/response blocks.
    Must be valid HTML.
-->
<p>
    Create a webhook for a specific event and attach it to a specific channel or the entire account.
</p>

{% include apiBlockParam.html title="Request"  source=page.request optional=page.optional type="hasContent" %}
{% include apiBlockParam.html title="Response" source=page.response %}
{% include statusBlockParam.html source=page.status %}

<!--
    The first two are required for every API, optionally show as many error cases as are instructive.
-->
<h3 class="text-info">Usage</h3>
<span class="label label-primary">Request</span>
{% gist messagebus/c5795a3d32bf09e23d85 %}

<span class="label label-success">Response</span>
{% gist messagebus/dfe4a3173579c1c1736c %}

<!--
    Set sample == true in the frontmatter if you add sample code. Add as many as you like, but to keep pages consistent
    do ALL your work in the Gist.
-->
{% if page.sample %}
<h3 class="text-info">Examples</h3>
{% gist messagebus/eef6f65c4d607a2dcb61#file-gistfile1-txt %}
{% endif %}